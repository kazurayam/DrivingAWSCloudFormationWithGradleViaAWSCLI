/**
 * build.gradle
 */

project.version = '0.1.1'

/**
 * 1 build a Java project to create a jar file,
 * 2 create a AWS CloudFormation Stack to make a S3 Buket and a IAM Role
 */
task deploy(dependsOn: [
        ":app:build",
        ":subprojectD:createStack"
]) {
    doLast {
        println "Neo GOF project has been deployed"
    }
}
tasks.getByPath(":subprojectD:createStack").dependsOn(":app:build")

/**
 * undo what the "deploy" task did.
 */
task undeploy(dependsOn: [
        ":subprojectD:deleteStack"
]) {
    doLast {
        println "Neo GOF project has been un-deployed"
    }
}




/**
 * A example Gradle task which depends on tasks defined in the sub-projects
 *
 * Executing this hello task
 * <PRE>
 * $ cd NeoGOF
 * $ gradle hello -q
 * </PRE>
 * will respond as follows:
 * <PRE>
 * Hello, subprojectA
 * Hello, subprojectB
 * Hello, subprojectC
 * Hello, subprojectD
 * Hello, app
 * Hello, rootProject
 * </PRE>
 */
task hello(dependsOn:[
        ":app:hello",
        ":subprojectA:hello",
        ":subprojectB:hello",
        ":subprojectC:hello",
        ":subprojectD:hello"
]) {
    doLast {
        println "Hello, rootProject"
    }
}
